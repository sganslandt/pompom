@import url("http://fnt.webink.com/wfs/webink.css/?project=3AC395CE-F178-4C47-8528-73CA3386ED53&fonts=12FD0F01-C741-2AB4-78FE-CECD1BE87FB9:f=Calluna-BoldIt,3A13BFCA-7DC7-D1EE-757E-40EF7086214E:f=Calluna-Regular,4CFB49CB-EBCD-45D1-8C1A-D9B64EAC409C:f=Calluna-It");

@import "h5bp";
@import "compass/reset";
@import "compass/utilities";
@import "compass/css3";
@import "breakpoint";
@include h5bp-normalize;
@include h5bp-base-styles;
@include h5bp-chromeframe;

// Breakpoints for responsive design
$phones: only screen max-width 480px;
$large-phones: only screen max-width 767px;
$tablet: only screen 768px;
$desktop-small: only screen 980px;
$desktop-medium: only screen 1200px;
$desktop-large: only screen 1600px;
$not-handheld: not handheld;

$border-radius: 0.3rem;
// Fonts
$font-x-large: 4.8rem;
$font-large: 2.8rem;
$font-medium: 2.1rem;
$font-text: 1.6rem;

@mixin font-heading{
	font-family: Calluna-BoldIt;
} 

// Colors
$color-main: #BC4C2E;
$color-main-lighter: lighten($color-main, 10);
$color-main-highlight: lighten($color-main, 20);
$color-main-darker: darken($color-main, 20);

$color-main-text: #515151;

$color-complement: #E3E5CF;
$color-complement-lighter: lighten($color-complement, 10);
$color-complement-darker: darken($color-complement, 40);

$color-highlight: rgba(255, 255, 255, 0.2);
$color-shadow: rgba(0, 0, 0, 0.2);

$color-action: #619E9E;
$color-ok: #448400;
$color-warning: #FF8F08;
$color-error: #C11717;

$background-color: #F2F2F2;

*{
	@include box-sizing(border-box);
}
#{headings()}{
	@include font-heading;
}
@mixin calc($property, $expression) { 
  #{$property}: -moz-calc(#{$expression}); 
  #{$property}: -o-calc(#{$expression}); 
  #{$property}: -webkit-calc(#{$expression}); 
  #{$property}: calc(#{$expression}); 
}

@mixin gradient ($color-bottom: $color-main, $color-top: lighten($color-bottom, 10) ) {
	background: $color-top;
	@include background-image(linear-gradient($color-top, $color-bottom));
}
@mixin redbox{
	@include gradient($color-main);
	@include box-shadow(inset 0 0.1rem 0 0 $color-main-highlight);
	border: 0.1rem solid $color-main-darker;

	@include breakpoint($desktop-small) {
		@include border-radius($border-radius);
	}
}
@mixin transparentBox($color: white, $alpha: 0.5, $borderRadius: $border-radius){
	background-color: rgba($color, $alpha);
	@include border-radius($borderRadius);
}
@mixin redheader{
	@include redbox;
	@include font-heading;
	width: 100%;
	color: $color-complement;
	padding: 0.5rem 0.4rem;
}
@mixin button($btnBgColor: $color-main, $btnBorderColor: darken($btnBgColor, 20), $btnTextColor: $color-complement){
	@include font-heading;
	@include border-radius($border-radius);
	@include gradient($btnBgColor);
	@include box-shadow(inset 0 0.1rem 0 0 $color-highlight, 0 0.2rem 0 0 $color-shadow);
	padding: 0.4rem;
	width: 100%;
	font-size: $font-large;
	height: 4.8rem;
	color: $btnTextColor;
	border: 0.1rem solid $btnBorderColor;
	&:active{
		@include box-shadow(inset 0 0.1rem 0 0 $color-shadow);
		padding: 0.5rem 0.4rem 0.3rem;
	}
}
@mixin lightbox{
	@include box-shadow(inset 0 0.1rem 0 0 $color-complement-lighter);
	background-color: $color-complement;
	border: 0.1rem solid $color-complement-darker;
}
@mixin textbox{
	@include border-radius($border-radius);
	@include box-shadow(inset 0 0.2rem 0 0 $color-shadow);
	background-color: $color-complement;
	border: 0.1rem solid $color-complement-darker;
}
@mixin textboxonred{
	@include border-radius($border-radius);
	padding: 0.4rem;
	background-color: $color-complement;
	border: 0.1rem solid $color-main-darker;
	@include box-shadow(inset 0 0.2rem 0 0 $color-shadow, 0 0.1rem 0 0 $color-highlight);
}
@mixin circle ($size, $border-color){
	border-radius: 50%;
	border: 0.1rem solid $border-color;
	width: $size;
	height: $size;
}
@mixin app-section{
	position: relative;
	height: 100%;

	@include breakpoint($tablet) {
		float: left;
		overflow-y: auto;
	}
}
@mixin taskbox{
	@include lightbox;
	position: relative;
	height: 4.8rem;
	padding: 0.4rem;
	-webkit-transition: opacity 0.25s;
	transition: opacity 0.25s;

	h3{
		font-size: $font-medium;
		margin: 1rem 0 0;
		line-height: 1em;
	}
	p{
		display: none;
		font-size: $font-text;
		margin: 0;
		line-height: 1em;
	}
	ol.pomodoros{
		padding: 0;
		margin: 0;
		width: 8.2rem;
		position: absolute;
		top: 0.3rem;
		right: 0.3rem;

		li{
			position: relative;
			@include circle (1.6rem, $color-main-text);
			overflow: hidden;
			float: left;
			margin-right: 0.6rem;
			margin-bottom: 0.6rem;
			padding: 0;
			background-color: lighten($color-main-text, 20);
			@include box-shadow((inset 0 0.1rem 0 0 $color-shadow, 0 0.1rem 0 0 $color-highlight));

			img{
				height: 100%;
				width: auto;
				position: absolute;
				top: 0;
				left: 0;
			}
			&:nth-child(4n){
				margin-right: 0;
			}
			&.active{

			}
			&.ended{
				border-color: $color-main-darker;
				background-color: $color-main;
				@include box-shadow((inset 0 0.1rem 0 0 $color-highlight, 0 0.1rem 0 0 $color-highlight));
			}
			&.interrupted{
				border-color: darken($color-warning, 30);
				background-color: $color-warning;
				@include box-shadow((inset 0 0.1rem 0 0 $color-highlight, 0 0.1rem 0 0 $color-highlight));


			}
			&.broken{
				background-color: #C11717;
				border-color: #770600;
				@include box-shadow((inset 0 0.1rem 0 0 $color-highlight, 0 0.1rem 0 0 $color-highlight));
			}
			&.inprogress{
				@include gradient($color-action);
			}
		}
	}
}
@mixin standardform{
	position: relative;
	padding: 0.4rem;

	input[type="text"],
	input[type="submit"],
	textarea{
		width: 100%;
	}
	input{
		height: 4.8rem;
	}
	input[type="text"],
	input[type="number"],
	textarea{
		margin-bottom: 0.4rem;
		font-size: $font-medium;
		@include textboxonred
	}
	textarea{
		height: 6.4rem;
		font-size: $font-text;
	}
	input[type="number"]{
		float: right;
		width: 6.4rem;
		text-align: center;
		&::-webkit-inner-spin-button {
	    border-left: .1rem solid $color-main-darker;
	    @include border-top-right-radius(0.2rem);
	    @include border-bottom-right-radius(0.2rem);
	    background-image: url("../img/icon_spinner.svg"), -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #d3674a), color-stop(100%, #bc4c2e));
			background-image: url("../img/icon_spinner.svg"), -webkit-linear-gradient(#d3674a,#bc4c2e);
			background-image: url("../img/icon_spinner.svg"), -moz-linear-gradient(#d3674a,#bc4c2e);
			background-image: url("../img/icon_spinner.svg"), -o-linear-gradient(#d3674a,#bc4c2e);
			background-image: url("../img/icon_spinner.svg"), linear-gradient(#d3674a,#bc4c2e);
			background-position: center;
	    @include box-shadow(inset 0 0.1rem 0 0 $color-highlight, 0 0.2rem 0 0 $color-shadow);
	    width: 24px;
	    -webkit-appearance: none;
	    margin: 0;
		}
		&::-webkit-outer-spin-button {
	    
		}
	}
	label{
		display: inline-block;
		margin-top: 1rem;
		font-size: $font-medium;
		color: $color-main-darker;
	}

	input[type="checkbox"] {
		position: absolute;
		opacity: 0;

		&:checked + label span{
			background-image: url("../img/icon_check.svg");
			background-position: center;
		}
	}
	label.targetLabel { 
	  display: inline-block;
	  cursor: pointer;
	  padding-left: 4rem;
	  font-size: $font-text;
	  height: 3.2rem;
	  margin: 0 0 0.4rem;
	  line-height: 2.2em;

	  span{
	  	@include textboxonred;
	  	display: inline-block;
			width: 3.2rem;
			height: 3.2rem;
			position: absolute;
			left: .4rem;
	  }
	}

	input[type="submit"]{
		@include button($color-action, darken($color-action, 30));
	}
}
